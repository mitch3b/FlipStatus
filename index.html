<!DOCTYPE html>
<html>
<head>
<script src="utils.js"></script>
<link rel="stylesheet" href="style.css">

<script type="text/javascript">
  //Need at least 1 value
  var categoryNames = [
    "Bits",
    "Donations",
    "Subscription"
  ];

  var names = [
    ["AceEbb","DaviDeil","Gromfalloon","NobodySgt","NotNobodySgt","Protokitty","Sambo140","Substylee"], //bits
    ["Gromfalloon"], //donators
    ["NobodySgt","DaviDeil","Mazimov","phunqsauce","Beerfullofbelly","angrylanks","Tarbash","chrisHgames","Backslash","CantFindBombs","rufford","Gromfalloon","NobodySgt"] //subscribers
  ];

  var id = 'frontName';
  var currentIndex = 0; //Need mod for length 1 case

  function nextName() {
    currentIndex++;
    if(currentIndex == names[currentCategory].length) {
      currentIndex = 0;
      flipCategory();
    }

    var card = document.getElementById('nameCard');
    card.toggleClassName('flipped');

    var nextFront = (id == 'frontName');
    id = (nextFront) ? 'backName' : 'frontName';

    //Note this assumes there's only one.
    document.getElementById(id).innerHTML = names[currentCategory][currentIndex];
  }

  var categoryId = 'frontCategory';
  var currentCategory = 0;

  function flipCategory() {
    currentCategory++;
    if(currentCategory == categoryNames.length) {
      currentCategory = 0;
    }

    var card = document.getElementById('categoryCard');
    card.toggleClassName('flipped');

    var nextFront = (categoryId == 'frontCategory');
    categoryId = (nextFront) ? 'backCategory' : 'frontCategory';

    //Note this assumes there's only one.
    document.getElementById(categoryId).innerHTML = categoryNames[currentCategory];
  }

  window.setInterval(nextName, 5000);
</script>

</head>
<body> <!-- background="http://www.neshq.com/games/m/metroid/1024x768-action.gif"-->
  <div class="container">
    <div class="card">
      <div>Thanks for the </div>
    </div>
  </div>
  <div class="container">
    <div class="card" id="categoryCard">
      <div class="front" id="frontCategory">This</div>
      <div class="back" id="backCategory">That</div>
    </div>
  </div>
  <div class="container">
    <div class="card" id="nameCard">
      <div class="front" id="frontName">1</div>
      <div class="back" id="backName">2</div>
    </div>
  </div>
  <!--button id="flip">Flip Card</button-->
</div>
<script type="text/javascript">
  var init = function() {
    document.getElementById('frontName').innerHTML = names[0][0];
    document.getElementById('frontCategory').innerHTML = categoryNames[0];
  };

  window.addEventListener('DOMContentLoaded', init(), false);

</script>
</body>
</html>
